{"version":3,"sources":["assets/like.png","assets/user.jpg","palette.js","components/WriteComment.js","localStorage.js","modules/comments.js","containers/WriteCommentContainer.js","utils.js","components/CommentLikes.js","containers/CommentRepliesContainer.js","components/CommentItem.js","components/CommentsList.js","containers/CommentsContainer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","palette","black","lightGray","gray","WriteCommentForm","styled","form","Input","input","props","width","css","React","memo","onWrite","useState","user","setUser","comment","setComment","onSubmit","e","preventDefault","type","name","value","onChange","target","placeholder","required","style","display","loadState","serializedState","localStorage","getItem","JSON","parse","error","initialState","WriteCommentContainer","id","setWriteReplyCommentOpen","dispatch","useDispatch","comments","useSelector","state","data","refComment","find","newComment","Math","random","toString","substring","text","created_at","Date","now","like_count","ref_comment_id","origin_comment_id","payload","writeComment","CommentLikeBlock","div","CommentLikes","count","src","likeIcon","alt","CommentRepliesContainer","replyComments","filter","length","CommentItemBlock","li","UserImage","CommentContent","CommentText","CommentActions","ul","onClickLike","onRemove","writeReplyCommentOpen","userIcon","onClick","date","d","diff","getTime","distanceInWordsToNow","addSuffix","locale","koLocale","format","formatDate","CommentsListBlock","CommentsList","likeComment","confirm","removeComment","map","key","NoComments","CommentsContainer","originComments","useEffect","ContentBlock","App","Boolean","window","location","hostname","match","store","createStore","action","concat","composeWithDevTools","applyMiddleware","ReduxThunk","logger","subscribe","stringify","setItem","console","log","saveState","getState","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.fcdc7b6a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/like.ba9c9cc7.png\";","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxQHBhIRBxIOExAQEREVFxYVDRcVExIVGBIWFhUSFRUYHSggGh0lGxcVLTEhJSkrLi4uFx8zODMsNygtLisBCgoKDQ0NFQ4PEjEZFRkrKysrLTctLSsrKzctNysrLSsrNy0tKysrKy0rLSsrKysrKysrKystLSsrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAAAwQFBgIBB//EADUQAQABAgMDCQcEAwEAAAAAAAABAgMEBRESITETQVFhcYGhscEUIjI0kdHwQlKS4SRy8SP/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAMAwEAAhEDEQA/AP0wBpAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHqiiblWlETMg8vsRrOkcV2jLKqvjmmPGWjh8NTh6fcjf088mjMtZdXX8WlPbx+kJ4yr91U/xaQmqzpyqOaqf4o68rqj4KontjRqhowbuErtfHTOnTG+EDpVTE4Gm9GtO6rp6e2DUxij3dtTZr0uRv/N8PCgAAAAAAAAAAAAAAAAAA3MDh+Qsxr8U75+zHw9O3iKY6aodClABFAAAAAAQYzDxiLWnPHCWFMaTpPGHSMjNbWxfiqP1ecfkLBRAVAAAAAAAAAAAAAAAAFnL41xlPf5S3GHlvzlPf5S3EpABFAAAAAAFLNaNrC6/tmPt6rqtmM/4dWvV5wDDAaQAAAAAAAAAAAAAAABZy75ynv8pbjCwE6Yynt9JbqVQBAAAAAAAYmZVTOLmJmdI07t0Ntg46dcZV2+iwQAKgAAAAAAAAAAAAAAACfBRPtNMxE7qo5m8hwdGxhqYp6In6pkqgCAAAAAAAwMXExiatqJjWqebrb6pmdG1hJmeMaTH1WDFAVAAAAAAAAAAAAAAAAG5l9e3hKerd9Flm5Pc3VUz2+k+jSZqgAAAAAAAClm1ezhtP3THhv+y6yc2ubV6KY/THjKwUAFQAAAAAAAAAAAAAAABJh702LsVU/wDYbeFv+0WdqI047tWA08nubqqZ7fSfQo0gGVAAAAAAQYvEez2tdNd+nFh3bk3LkzVxmWhnFe+mmOufSPVmtRAAAAAAAAAAAAAAAAAABNhL3IYiJnhwnsQgOlidY3CllVya7GlX6Z0hdZUAAAABWzGuaMJOzz6R9QZWMu8tiZmOHCOyEANIAAAAAAAAAAAAAAAAAAAA2MpjTDT11T5RC6rZfTsYOnr1n6zqssqAAAAK2YxtYOru84WUeIp27FURz0zHgDngGkAAAAAAAAAAAAAAAAAAHqinbriKeMzoUUzXVpREzLVwGC5Gdq78XkC7TGzTERzQ+gyoAAAAADn8Vb5LEVR1+E8ETbx2E9op1p3VRw6+qWPctzaq0uRMS1EeAAAAAAAAAAAAAAB9iNqdKd8r2Hy2a997dHRz/wBAo007c6URMz1L+Hyyat9+dI6I4tGzZps06W4iPOe9ImmI7VmmzTpbiISAigAAAAAAADzctxcp0riJh6AZmIyznsT3T6Sz7lubdWlyJiXRvFy3F2nS5ETC6mOdGjiMs034ee6fSVCuiaKtK4mJ61HkAAAAAAH2N87gfFvC4Gq9vq92nxnshbwWA2I2r++ejmj+19NENjD02I/847+ee9MCKAAAAAAAAAAAAAAAAI71mm9TpciJ/OlIAyMVl8299r3o8Y+6i6VTxmBi/GtG6rwntXUYw9VUzRVMVRpMPKgAA0sqw2vv1933Z1MbVURHGZ0dFbo5O3EU8IjQo9AMqAAAAAAAAAAAAAAAAAAAAAAo5nh9u3t08aePXDIdLMaxvc9ft8leqp6J8OZYiMBRLhfmaP8AanzdACUgAigAAAAAAAAAAAAAAAAAAAAADEzL5yru8oBYKoCsv//Z\"","const palette = {\r\n  black: \"#050505\",\r\n  lightGray: \"#f0f2f5\",\r\n  gray: \"#65676B\"\r\n};\r\n\r\nexport default palette;\r\n","import React, { useState } from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport palette from \"../palette\";\r\n\r\nfunction WriteComment({ onWrite }) {\r\n  const [user, setUser] = useState(\"\");\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const onSubmit = e => {\r\n    // 새로고침 방지\r\n    e.preventDefault();\r\n    onWrite({\r\n      user,\r\n      comment\r\n    });\r\n    // Input 초기화\r\n    setUser(\"\");\r\n    setComment(\"\");\r\n  };\r\n\r\n  return (\r\n    <WriteCommentForm onSubmit={onSubmit}>\r\n      <Input type=\"text\" name=\"user\" value={user} onChange={e => setUser(e.target.value)} placeholder=\"이름을 입력하세요\" width=\"25%\" required />\r\n      <Input\r\n        type=\"text\"\r\n        name=\"comment\"\r\n        value={comment}\r\n        onChange={e => setComment(e.target.value)}\r\n        placeholder=\"댓글을 입력 후 엔터키를 누르세요\"\r\n        width=\"100%\"\r\n        required\r\n      />\r\n      <input type=\"submit\" style={{ display: \"none\" }} />\r\n    </WriteCommentForm>\r\n  );\r\n}\r\n\r\nconst WriteCommentForm = styled.form`\r\n  border-top: 1px solid #ccc;\r\n  margin-top: 1rem;\r\n  padding-top: 1rem;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  background: ${palette.lightGray};\r\n  border: none;\r\n  border-radius: 1rem;\r\n  padding: 10px 12px 9px 12px;\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n\r\n  ${props =>\r\n    props.width &&\r\n    css`\r\n      width: ${props.width};\r\n    `}\r\n\r\n  &:focus {\r\n    outline: none;\r\n\r\n    ::placeholder {\r\n      color: #adb5bd;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default React.memo(WriteComment);\r\n","export const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('comments');\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (error) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = state => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('comments', serializedState);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import { loadState } from \"../localStorage\";\r\n\r\n// 액션 타입\r\n// 댓글 리스트\r\nconst GET_COMMENTS = \"GET_COMMENTS\";\r\n// 댓글 작성\r\nconst WRITE_COMMENT = \"WRITE_COMMENT\";\r\n// 댓글 좋아요\r\nconst LIKE_COMMENT = \"LIKE_COMMENT\";\r\n// 댓글 삭제\r\nconst REMOVE_COMMENT = \"REMOVE_COMMENT\";\r\n\r\n// 초기 상태\r\nconst initialState = [];\r\n\r\n// 액션 생성 함수\r\nexport const getComments = () => ({\r\n  type: GET_COMMENTS\r\n});\r\nexport const writeComment = data => ({\r\n  type: WRITE_COMMENT,\r\n  payload: data\r\n});\r\nexport const likeComment = id => ({\r\n  type: LIKE_COMMENT,\r\n  id\r\n});\r\nexport const removeComment = id => ({\r\n  type: REMOVE_COMMENT,\r\n  id\r\n});\r\n\r\n// 리듀서\r\nexport default function comments(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_COMMENTS:\r\n      return loadState();\r\n    case WRITE_COMMENT:\r\n      return state.concat(action.payload);\r\n    case LIKE_COMMENT:\r\n      return state.map(comment => (comment.id === action.id ? { ...comment, like_count: comment.like_count + 1 } : comment));\r\n    case REMOVE_COMMENT:\r\n      return state.filter(comment => comment.id !== action.id && comment.origin_comment_id !== action.id);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport WriteComment from \"../components/WriteComment\";\r\nimport { writeComment } from \"../modules/comments\";\r\nimport { generateRandomID } from \"../utils\";\r\n\r\nfunction WriteCommentContainer({ id, setWriteReplyCommentOpen }) {\r\n  const dispatch = useDispatch();\r\n  const comments = useSelector(state => state);\r\n\r\n  const onWrite = data => {\r\n    const { user, comment } = data;\r\n    const refComment = comments.find(comment => comment.id === id);\r\n    const newComment = {\r\n      id: generateRandomID(),\r\n      user: user,\r\n      text: comment,\r\n      created_at: Date.now(),\r\n      like_count: 0,\r\n      ref_comment_id: id || null,\r\n      origin_comment_id: id ? refComment.origin_comment_id || id : null\r\n    };\r\n    dispatch(writeComment(newComment));\r\n    // 답글 달기일 경우 창 닫기\r\n    if (id) setWriteReplyCommentOpen(false);\r\n  };\r\n\r\n  return <WriteComment onWrite={onWrite} />;\r\n}\r\n\r\nexport default WriteCommentContainer;\r\n","import distanceInWordsToNow from \"date-fns/formatDistanceToNow\";\r\nimport format from \"date-fns/format\";\r\nimport koLocale from \"date-fns/locale/ko\";\r\n\r\nexport const generateRandomID = () => {\r\n  return Math.random()\r\n    .toString(36)\r\n    .substring(2, 15);\r\n};\r\n\r\nexport const formatDate = date => {\r\n  const d = new Date(date);\r\n  const now = Date.now();\r\n  const diff = now - new Date(date).getTime();\r\n  // less than 5 minutes\r\n  if (diff < 1000 * 60 * 5) {\r\n    return \"방금 전\";\r\n  }\r\n  if (diff < 1000 * 60 * 60 * 24) {\r\n    return distanceInWordsToNow(d, { addSuffix: true, locale: koLocale });\r\n  }\r\n  if (diff < 1000 * 60 * 60 * 36) {\r\n    return \"어제\";\r\n  }\r\n  if (diff < 1000 * 60 * 60 * 24 * 7) {\r\n    return distanceInWordsToNow(d, { addSuffix: true, locale: koLocale });\r\n  }\r\n  return format(d, \"yyyy년 M월 d일\");\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport likeIcon from \"../assets/like.png\";\r\nimport palette from \"../palette\";\r\n\r\nfunction CommentLikes({ count }) {\r\n  return (\r\n    <CommentLikeBlock>\r\n      <img src={likeIcon} alt=\"좋아요 아이콘\" />\r\n      <span>{count}</span>\r\n    </CommentLikeBlock>\r\n  );\r\n}\r\n\r\nconst CommentLikeBlock = styled.div`\r\n  background: white;\r\n  display: flex;\r\n  align-items: center;\r\n  position: absolute;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 1px 2px #ccc;\r\n  right: 0.5rem;\r\n  bottom: -0.5rem;\r\n  padding: 0.125rem 0.25rem 0.125rem 0.125rem;\r\n  color: ${palette.gray};\r\n  img {\r\n    width: 1rem;\r\n    height: 1rem;\r\n  }\r\n`;\r\n\r\nexport default CommentLikes;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CommentsList from \"../components/CommentsList\";\r\n\r\nfunction CommentRepliesContainer({ id }) {\r\n  const comments = useSelector(state => state);\r\n  const replyComments = comments && comments.filter(comment => comment.ref_comment_id === id);\r\n\r\n  if (!replyComments || replyComments.length === 0) {\r\n    return null;\r\n  }\r\n  return <CommentsList comments={replyComments} />;\r\n}\r\n\r\nexport default CommentRepliesContainer;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport palette from \"../palette\";\r\nimport CommentLikes from \"./CommentLikes\";\r\nimport CommentRepliesContainer from \"../containers/CommentRepliesContainer\";\r\nimport WriteCommentContainer from \"../containers/WriteCommentContainer\";\r\nimport { formatDate } from \"../utils\";\r\nimport userIcon from \"../assets/user.jpg\";\r\n\r\nfunction CommentItem({ comment, onClickLike, onRemove }) {\r\n  const { id, user, created_at, text, like_count } = comment;\r\n  const [writeReplyCommentOpen, setWriteReplyCommentOpen] = useState(false);\r\n\r\n  return (\r\n    <CommentItemBlock>\r\n      <UserImage>\r\n        <img src={userIcon} alt=\"유저 아이콘\" />\r\n      </UserImage>\r\n      <CommentContent>\r\n        <CommentText>\r\n          <p>{user}</p>\r\n          <p>{text}</p>\r\n          {like_count > 0 && <CommentLikes count={like_count} />}\r\n        </CommentText>\r\n        <CommentActions>\r\n          <li>\r\n            <span onClick={() => onClickLike(id)}>좋아요</span>\r\n          </li>\r\n          <li>\r\n            <span onClick={() => setWriteReplyCommentOpen(!writeReplyCommentOpen)}>{writeReplyCommentOpen ? \"답글 작성 숨기기\" : \"답글 작성\"}</span>\r\n          </li>\r\n          <li>\r\n            <span onClick={() => onRemove(id)}>삭제</span>\r\n          </li>\r\n          <li>{formatDate(created_at)}</li>\r\n        </CommentActions>\r\n        {writeReplyCommentOpen && <WriteCommentContainer id={id} setWriteReplyCommentOpen={setWriteReplyCommentOpen} />}\r\n        <CommentRepliesContainer id={id} />\r\n      </CommentContent>\r\n    </CommentItemBlock>\r\n  );\r\n}\r\n\r\nconst CommentItemBlock = styled.li`\r\n  display: flex;\r\n  margin-bottom: 0.5rem;\r\n  font-size: 0.875rem;\r\n\r\n  &:last-of-type {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst UserImage = styled.div`\r\n  border-radius: 50%;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  margin-right: 0.5rem;\r\n  overflow: hidden;\r\n\r\n  img {\r\n    width: 2rem;\r\n  }\r\n`;\r\n\r\nconst CommentContent = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst CommentText = styled.div`\r\n  background: ${palette.lightGray};\r\n  border-radius: 1rem;\r\n  padding: 10px 12px 9px 12px;\r\n  position: relative;\r\n\r\n  p:first-of-type {\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nconst CommentActions = styled.ul`\r\n  padding: 5px 0px 5px 12px;\r\n  display: flex;\r\n  color: ${palette.gray};\r\n\r\n  li {\r\n    font-size: 0.75rem;\r\n\r\n    &:not(:last-of-type):after {\r\n      content: \"·\";\r\n      margin: 0 0.25rem;\r\n    }\r\n  }\r\n\r\n  span {\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n    &:hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default React.memo(CommentItem);\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport CommentItem from \"./CommentItem\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { likeComment, removeComment } from \"../modules/comments\";\r\n\r\nfunction CommentsList({ comments }) {\r\n  const dispatch = useDispatch();\r\n  // 댓글 좋아요\r\n  const onClickLike = id => {\r\n    dispatch(likeComment(id));\r\n  };\r\n\r\n  // 댓글 삭제\r\n  const onRemove = id => {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    if (confirm(\"댓글을 삭제하시겠습니까?\")) {\r\n      dispatch(removeComment(id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CommentsListBlock>\r\n      {comments.map(comment => (\r\n        <CommentItem comment={comment} key={comment.id} onClickLike={onClickLike} onRemove={onRemove} />\r\n      ))}\r\n    </CommentsListBlock>\r\n  );\r\n}\r\n\r\nconst CommentsListBlock = styled.ul`\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 0.5rem 0;\r\n  margin: 0;\r\n`;\r\n\r\nexport default CommentsList;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CommentsList from \"../components/CommentsList\";\r\nimport { getComments } from \"../modules/comments\";\r\nimport styled from \"styled-components\";\r\n\r\nfunction CommentsContainer() {\r\n  const dispatch = useDispatch();\r\n  const comments = useSelector(state => state);\r\n  const originComments = comments && comments.filter(comment => !comment.origin_comment_id);\r\n\r\n  // 댓글리스트 가져오기\r\n  useEffect(() => {\r\n    dispatch(getComments());\r\n  }, [dispatch]);\r\n\r\n  if (!originComments || originComments.length === 0) {\r\n    return <NoComments>댓글이 없습니다.</NoComments>;\r\n  }\r\n  return <CommentsList comments={originComments} />;\r\n}\r\n\r\nconst NoComments = styled.div`\r\n  font-size: 0.875rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1;\r\n`;\r\n\r\nexport default CommentsContainer;\r\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport WriteCommentContainer from \"./containers/WriteCommentContainer\";\nimport CommentsContainer from \"./containers/CommentsContainer\";\n\nfunction App() {\n  return (\n    <ContentBlock>\n      <CommentsContainer />\n      <WriteCommentContainer />\n    </ContentBlock>\n  );\n}\n\nconst ContentBlock = styled.div`\n  background: white;\n  width: 680px;\n  height: 680px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 1rem;\n  border-radius: 1rem;\n  box-shadow: 0 1px 2px #ccc;\n`;\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport logger from \"redux-logger\";\nimport { composeWithDevTools } from \"redux-devtools-extension\"; // 리덕스 개발자 도구\nimport ReduxThunk from \"redux-thunk\";\nimport comments from \"./modules/comments\";\nimport { Provider } from \"react-redux\";\nimport { saveState } from \"./localStorage\";\n\nconst store = createStore(comments, composeWithDevTools(applyMiddleware(ReduxThunk, logger)));\nstore.subscribe(() => {\n  saveState(store.getState());\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}